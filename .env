import { ElevenLabsClient } from "elevenlabs";
import dotenv from "dotenv";
dotenv.config();

const elevenlabs = new ElevenLabsClient({
apiKey: process.env.ELEVENLABS_API_KEY,
});

const text = "這是你的語音測試內容。";
const voiceId = "EXAVITQu4vr4xnSDxMaL";

const stream = await elevenlabs.textToSpeech.convert({
voiceId,
text,
});

const fs = require("fs");
const filePath = "output.mp3";
const writeStream = fs.createWriteStream(filePath);
stream.pipe(writeStream);

writeStream.on("finish", () => {
 console.log("語音合成完成，已儲存為 output.mp3");
});

